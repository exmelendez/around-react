(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(4),s=a.n(c),o=(a(11),a(2)),i=a.p+"static/media/logo.4e8e0a1d.svg",l=a(0);var d=function(){return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("a",{className:"header__logo-link",href:"../public/index.html",children:Object(l.jsx)("img",{className:"header__logo",src:i,alt:"Around the US logo"})})})},u=a(5),m=a(6),j=new(function(){function e(t){var a=t.baseUrl,r=t.headers;Object(u.a)(this,e),this._baseUrl=a,this._headers=r}return Object(m.a)(e,[{key:"addCard",value:function(e){var t=e.link,a=e.name;return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({link:t,name:a})}).then((function(e){return e.ok?e.json():Promise.reject("Error! ".concat(e.statusText))}))}},{key:"changeLikeCardStatus",value:function(e,t){return t?fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error! ".concat(e.statusText))})):fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"}).then((function(e){return e.ok?e.json():Promise.reject("Error! ".concat(e.statusText))}))}},{key:"getCardList",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error! ".concat(e.statusText))}))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error! ".concat(e.statusText))}))}},{key:"removeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error! ".concat(e.statusText))}))}},{key:"setUserAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error! ".concat(e.statusText))}))}},{key:"setUserInfo",value:function(e){var t=e.name,a=e.about;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:a})}).then((function(e){return e.ok?e.json():Promise.reject("Error! ".concat(e.statusText))}))}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-4",headers:{authorization:"9d5a3bcf-ed42-48db-a52f-3430aec59f7e","Content-Type":"application/json"}});var h=function(e){return Object(l.jsxs)("li",{className:"photos__item",onClick:function(){e.onCardClick(e.card)},children:[Object(l.jsx)("button",{className:"photos__delete-btn","aria-label":"Delete card"}),Object(l.jsx)("div",{className:"photos__image",style:{backgroundImage:"url(".concat(e.card.link,")")}}),Object(l.jsxs)("div",{className:"photos__item-info",children:[Object(l.jsx)("p",{className:"photos__title",children:e.card.name}),Object(l.jsxs)("div",{className:"photos__likes-container",children:[Object(l.jsx)("button",{className:"photos__love-btn","aria-label":"Love"}),Object(l.jsx)("p",{className:"photos__likes",children:e.card.likes.length})]})]})]})};var b=function(e){var t=Object(r.useState)("Cousteau"),a=Object(o.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)("Explorer"),i=Object(o.a)(s,2),d=i[0],u=i[1],m=Object(r.useState)("images/avatar_image-min.jpg"),b=Object(o.a)(m,2),_=b[0],f=b[1],p=Object(r.useState)([]),O=Object(o.a)(p,2),x=O[0],v=O[1];return Object(r.useEffect)((function(){j.getUserInfo().then((function(e){c(e.name),u(e.about),f(e.avatar),j.getCardList().then((function(e){v(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}),[]),Object(l.jsxs)("main",{className:"content",children:[Object(l.jsxs)("section",{className:"profile",children:[Object(l.jsx)("div",{className:"profile__avatar",style:{backgroundImage:"url(".concat(_,")")},children:Object(l.jsx)("button",{className:"profile__avatar-overlay",onClick:e.onEditAvatar})}),Object(l.jsxs)("div",{className:"profile__info",children:[Object(l.jsx)("p",{className:"profile__name",children:n}),Object(l.jsx)("button",{className:"profile__edit-btn",onClick:e.onEditProfile,"aria-label":"Profile edit"}),Object(l.jsx)("p",{className:"profile__title",children:d})]}),Object(l.jsx)("button",{className:"profile__add-btn",onClick:e.onAddPlace,"aria-label":"Add card"})]}),Object(l.jsx)("section",{className:"photos",children:Object(l.jsx)("ul",{className:"photos__grid",children:x.map((function(t){return Object(l.jsx)(h,{card:t,onCardClick:e.onCardClick},t._id)}))})})]})};var _=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("p",{className:"footer__copyright",children:"\xa9 2020 Around The U.S."})})};var f=function(e){return Object(l.jsx)("div",{className:"modal modal_type_".concat(e.name," ").concat(e.isOpen?"modal_is-open":""),onClick:e.onClose,children:Object(l.jsxs)("div",{className:"modal__container",children:[Object(l.jsx)("button",{className:"modal__close-btn","aria-label":"Close popup",onClick:e.onClose,children:"+"}),Object(l.jsx)("h2",{className:"modal__title",children:e.title}),Object(l.jsxs)("form",{className:"form form_type_".concat(e.name),children:[e.children,Object(l.jsx)("button",{className:"form__save-btn",type:"submit","aria-label":"Submit form",children:"Save"})]})]})})};var p=function(e){return Object(l.jsx)("div",{className:"modal modal_type_image-view ".concat(e.isOpen?"modal_is-open":""),onClick:e.onClose,children:Object(l.jsxs)("div",{className:"modal__container modal__container_size-image",style:{backgroundImage:"url(".concat(e.card.link,")")},children:[Object(l.jsx)("button",{className:"modal__close-btn modal_close_image-view","aria-label":"Close popup",onClick:e.onClose,children:"+"}),Object(l.jsx)("p",{className:"modal__image-title",children:e.card.name})]})})};var O=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(o.a)(c,2),i=s[0],u=s[1],m=Object(r.useState)(!1),j=Object(o.a)(m,2),h=j[0],O=j[1],x=Object(r.useState)(!1),v=Object(o.a)(x,2),g=v[0],k=v[1],N=Object(r.useState)(null),C=Object(o.a)(N,2),y=C[0],E=C[1];function L(e){(e.target.classList.contains("modal__close-btn")||e.target.classList.contains("modal_is-open")||"Escape"===e.key)&&(n(!1),u(!1),O(!1),k(!1),E(null),document.removeEventListener("keyup",T))}function S(){document.addEventListener("keyup",T)}function T(e){"Escape"===e.key&&L(e)}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(d,{}),Object(l.jsx)(b,{onEditProfile:function(){n(!a),S()},onAddPlace:function(){u(!i),S()},onEditAvatar:function(){O(!h),S()},onCardClick:function(e){k(!g),E(e),S()}}),Object(l.jsx)(_,{}),Object(l.jsxs)(f,{name:"edit-profile",title:"Edit profile",isOpen:a,onClose:L,children:[Object(l.jsx)("input",{id:"profile-name",className:"form__input form__input-profile-name",type:"text",name:"name",placeholder:"Name",minLength:"2",maxLength:"40",required:!0}),Object(l.jsx)("span",{id:"profile-name-error",className:"form__error"}),Object(l.jsx)("input",{id:"profile-title",className:"form__input form__input-profile-title",type:"text",name:"about",placeholder:"Title",minLength:"2",maxLength:"200",required:!0}),Object(l.jsx)("span",{id:"profile-title-error",className:"form__error"})]}),Object(l.jsxs)(f,{name:"edit-avatar",title:"Change profile picture",isOpen:h,onClose:L,children:[Object(l.jsx)("input",{id:"card-url",className:"form__input form__input_avatar-update",type:"url",name:"avatar",placeholder:"Link",required:!0}),Object(l.jsx)("span",{id:"card-url-error",className:"form__error"})]}),Object(l.jsxs)(f,{name:"add-card",title:"New place",isOpen:i,onClose:L,children:[Object(l.jsx)("input",{id:"card-title",className:"form__input form__input_card-title",type:"text",name:"name",placeholder:"Title",minLength:"1",maxLength:"30",required:!0}),Object(l.jsx)("span",{id:"card-title-error",className:"form__error"}),Object(l.jsx)("input",{id:"card-url",className:"form__input form__input_card-url",type:"url",name:"link",placeholder:"Link",required:!0}),Object(l.jsx)("span",{id:"card-url-error",className:"form__error"})]}),g?Object(l.jsx)(p,{card:y,isOpen:g,onClose:L}):""]})},x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,14)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root")),x()}},[[13,1,2]]]);
//# sourceMappingURL=main.8a82af66.chunk.js.map